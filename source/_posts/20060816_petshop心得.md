---
title: petshop心得
tags: []
categories: []
date: 2006-08-16 04:07:00 
---


&emsp;&emsp;今天,去深圳的同事仍然没有回来,受苦了哦.今天很认真的看了PetShop,收获很大.在petshop中,看到的漂亮的页眉其实是一个多功能的用户自定义控件,所有的页面都使用了这个页眉,我觉得这个应该是.Net2.0中的MasterPage的原型吧.在Asp.net页面中原来有一个标签是用来做缩进的,一般来说就像是论坛中应用别人的话的感觉,这个与众不同的标签就是<blockquote>.之后看的是显示各个商品的页面,原来这个控件不是自定义控件这么简单了,而是继承了控件的新控件,变成了可以适应这个小Petshop的控件.另外,今天才发现原来使用<%#DataBinder.Eval(Container.DataItem,"ID"[,"c"])%>,来绑定数据到页面说多么容易的一件事情,所有的绑定的数据源都可以用Container.DataItem来表示,对应的源的标识名用"ID"来表示就好了,至于"c"用作页面显示的格式,代码非常的漂亮.另外在程序访问数据库的时候,用的sql语句不是普通的语句而是加了参数的,每个参数用一个const string来替代,这样的话,即使参数改变了也不会对程序做大量的修改,在使用中还可以很容易的拼凑,尤其是对一些查询参数比较多的语句更是方便.还发现了,他们的分页功能是把查询到的东西放在缓存里面方便分页的时候,可以不用查询数据库,并且可以快速的显示.还有,因为向前向后的参数是不同的,所以每次都会使用正则表达式来过滤掉多余的信息.在simplepager里面有个很关键的贯穿这个控件的函数,那就是OnLoad(),一个函数触发大部分的代码.另外才发现,原来asp:label可以当作html控件来使用的,可以用来显示图片啊,输入框啊,按钮啊,超强的东西啊.另外还对三层结构和以对象为主要的传递对象的设计有了更深入了了解,这个嘛,明天再说了...困了...